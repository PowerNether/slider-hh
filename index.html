<html lang="ru" class="js">
  <head>
    <link rel="stylesheet" href="./light/css/lightgallery.css" />
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <link rel="stylesheet" href="./style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>

  <body>
    <div class="sliders">
      <div class="slider wrapper slider-vertical">
        <div class="swiper slider-main">
          <div class="swiper-wrapper">
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
          </div>
          <div class="swiper-button-next">
            <span></span>
          </div>
          <div class="swiper-button-prev">
            <span></span>
          </div>
        </div>
        <div class="swiper slider-thumbnail">
          <div class="swiper-wrapper">
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/fp/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/pfm/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/fp/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/pfm/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/fp/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/pfm/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/fp/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/pfm/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/fp/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/pfm/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" alt="" />
            </div>
          </div>
        </div>
      </div>
      <div class="slider">
        <div class="swiper slider-main">
          <div class="swiper-wrapper">
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg">
              <img width="728" height="455" class="swiper-lazy" data-src="https://homehunter.ru/sites/default/files/styles/pf/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" data-src-retina="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" alt="" src="https://homehunter.ru/sites/default/files/styles/pfr/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" />
              <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
            </div>
          </div>
          <div class="swiper-button-next">
            <span></span>
          </div>
          <div class="swiper-button-prev">
            <span></span>
          </div>
        </div>
        <div class="swiper slider-thumbnail">
          <div class="swiper-wrapper">
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/fp/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/pfm/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/fp/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/pfm/public/photo/2021-11/1635943810_391f986bf131bb39ee68fe097f73f23d0217db2b.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/fp/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/pfm/public/photo/2021-11/1635943810_4839dbe950cb636398733338a08e70497be6480f.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/fp/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/pfm/public/photo/2021-11/1635943810_8cb7df0e513f9038fe991bfa0e02fe98e74e873a.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/fp/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/pfm/public/photo/2021-11/1635943810_3f6080985421176fd0dffcfd4c8fb2072ea606e0.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" alt="" />
            </div>
            <div class="swiper-slide" data-src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg">
              <img src="https://homehunter.ru/sites/default/files/styles/gfo/public/photo/2021-11/1635943810_83c90c77c08242835b4ccfb781eaa4a004d993dc.jpg" alt="" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="./light/lightgallery.umd.js"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
      let sliders = Array.from(document.getElementsByClassName("slider-main"));

      sliders.forEach((el) => {
        let galleryImagesImg = Array.from(el.getElementsByTagName("img"));
        let galleryImages = [];
        let optionsThumb = {
          spaceBetween: 4,
          slidesPerView: 3,
          allowTouchMove: false,
          grab: false,
          watchSlidesProgress: true,
          autoHeight: true,
        };
        let parent = el.parentNode;
        let sliderWrapper;
        let thumbnail;

        Array.from(parent.children).forEach((elem) => {
          if (elem.classList.contains("slider-thumbnail")) {
            thumbnail = elem;
          }
        });
        Array.from(el.children).forEach((elem) => {
          if (elem.classList.contains("swiper-wrapper")) {
            sliderWrapper = elem;
          }
        });

        galleryImagesImg.forEach((img) => {
          let src = img.getAttribute("src");
          galleryImages.push({ src: src, thumb: src });
        });

        let galleryInstance = lightGallery(el, {
          dynamic: true,
          dynamicEl: galleryImages,
        });

        if (parent.classList.contains("slider-vertical")) {
          optionsThumb.direction = "horizontal";
          optionsThumb.breakpoints = {
            768: {
              slidesPerView: 4,
              direction: "vertical",
            },
          };
        } else {
          optionsThumb.breakpoints = {
            568: {
              slidesPerView: 4,
            },
            768: {
              slidesPerView: 5,
            },
          };
        }

        let sliderThumb = new Swiper(thumbnail, optionsThumb);
        let optionsMain = {
          lazy: true,
          loop: true,
          grabCursor: true,
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },
          thumbs: {
            swiper: sliderThumb,
          },
        };
        let sliderMain = new Swiper(el, optionsMain);

        sliderWrapper.addEventListener("click", () => {
          let slideIndex = Number(el.getElementsByClassName("swiper-slide-active")[0].getAttribute("data-swiper-slide-index"));
          galleryInstance.openGallery(slideIndex);
        });
      });
    </script>
  </body>
</html>
